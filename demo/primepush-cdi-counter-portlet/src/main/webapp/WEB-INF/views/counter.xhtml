<?xml version="1.0" encoding="UTF-8"?>
<f:view xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
		xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:p="http://primefaces.org/ui">
	<h:head>
		<f:facet name="last">
			<h:outputScript>
				function displayCount(data) {
					$('.count-display').html(data);
				}
			</h:outputScript>
		</f:facet>
	</h:head>
	<h:body>
		<h:form id="form">
			<h:outputText id="countDisplay" value="#{counterBean.count}" styleClass="count-display" />
			<p:commandButton id="incrementCounter" value="#{i18n['increment-counter']}"
				actionListener="#{counterBean.increment}" />
		</h:form>
		<p:socket onMessage="displayCount" channel="/counter" />
	</h:body>
</f:view>
